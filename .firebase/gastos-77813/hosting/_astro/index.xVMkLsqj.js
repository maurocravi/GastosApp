import{ay as z,h as A,az as B,u as h,aA as g,n as m,aB as E,g as v,aC as S,aD as C,aE as b,aF as I}from"./template.DDEeykWN.js";const $="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add($);z();function N(n=!1){const s=A,e=s.l.u;if(!e)return;let r=()=>S(s.s);if(n){let u=0,f={};const c=C(()=>{let o=!1;const i=s.s;for(const t in i)i[t]!==f[t]&&(f[t]=i[t],o=!0);return o&&u++,u});r=()=>v(c)}e.b.length&&B(()=>{w(s,r),g(e.b)}),h(()=>{const u=m(()=>e.m.map(E));return()=>{for(const f of u)typeof f=="function"&&f()}}),e.a.length&&h(()=>{w(s,r),g(e.a)})}function w(n,s){if(n.l.s)for(const e of n.l.s)v(e);s()}function k(n,s,e){if(n==null)return s(void 0),e&&e(void 0),b;const r=m(()=>n.subscribe(s,e));return r.unsubscribe?()=>r.unsubscribe():r}const l=[];function D(n,s){return{subscribe:F(n,s).subscribe}}function F(n,s=b){let e=null;const r=new Set;function u(o){if(I(n,o)&&(n=o,e)){const i=!l.length;for(const t of r)t[1](),l.push(t,n);if(i){for(let t=0;t<l.length;t+=2)l[t][0](l[t+1]);l.length=0}}}function f(o){u(o(n))}function c(o,i=b){const t=[o,i];return r.add(t),r.size===1&&(e=s(u,f)||b),o(n),()=>{r.delete(t),r.size===0&&e&&(e(),e=null)}}return{set:u,update:f,subscribe:c}}function O(n,s,e){const r=!Array.isArray(n),u=r?[n]:n;if(!u.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const f=s.length<2;return D(e,(c,o)=>{let i=!1;const t=[];let d=0,p=b;const y=()=>{if(d)return;p();const a=s(r?t[0]:t,c,o);f?c(a):p=typeof a=="function"?a:b},q=u.map((a,_)=>k(a,x=>{t[_]=x,d&=~(1<<_),i&&y()},()=>{d|=1<<_}));return i=!0,y(),function(){g(q),p(),i=!1}})}function P(n){let s;return k(n,e=>s=e)(),s}export{O as d,P as g,N as i,k as s,F as w};
