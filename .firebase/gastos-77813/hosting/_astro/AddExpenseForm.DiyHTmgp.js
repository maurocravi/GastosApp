import{i as q}from"./index.CAEKJqJT.js";import{f as B,t as O,g as e,a as P,p as z,d as s,b as I,c as i,r,m as p,i as J,s as t}from"./template.BYwTzaMl.js";import{e as K,s as T}from"./render._rOquw-i.js";import{e as Q,b as F,a as R,r as A,i as S}from"./input.b8hoI3La.js";import{s as C}from"./Notification.Bt18E80j.js";import{c as U,e as V,a as W,T as X}from"./firebase.DbQp2EyT.js";function Y(m){return function(...f){var n=f[0];return n.preventDefault(),m?.apply(this,f)}}var Z=B("<option> </option>"),$=B('<div class="bg-white shadow-md rounded px-8 py-8 h-full "><h2 class="text-xl font-semibold mb-4">Agregar Nuevo Gasto</h2> <form><div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2" for="description">Descripción</label> <input type="text" id="description" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"/></div> <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2" for="amount">Monto</label> <input type="number" id="amount" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"/></div> <div class="mb-4"><label class="block text-gray-700 text-sm font-bold mb-2" for="category">Categoría</label> <select id="category" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></select></div> <div class="mb-6"><label class="block text-gray-700 text-sm font-bold mb-2" for="date">Fecha</label> <input type="date" id="date" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"/></div> <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-all duration-300 ease-in-out cursor-pointer"> </button></form></div>');function ie(m,f){I(f,!1);let n=p(""),d=p(""),c=p(""),l=p("Ocio"),o=p(!1);const H=["Ocio","Comida/Bebida","Hogar","Gastos Personales","Otros"];async function L(){if(!e(n)||!e(d)||!e(c)||!e(l)){C("Por favor, completa todos los campos","error");return}t(o,!0);try{await U(V(W,"gastos"),{descripcion:e(n),cantidad:parseFloat(e(d)),fecha:X.fromDate(new Date(e(c))),categoria:e(l)}),C("Gasto agregado correctamente","success"),t(n,""),t(d,""),t(c,""),t(l,"Ocio")}catch(a){console.error("Error adding document: ",a),C("Error al agregar el gasto","error")}finally{t(o,!1)}}q();var v=$(),g=s(i(v),2),h=i(g),x=s(i(h),2);A(x),r(h);var y=s(h,2),_=s(i(y),2);A(_),r(y);var w=s(y,2),b=s(i(w),2);O(()=>{e(l),J(()=>{e(o)})}),Q(b,5,()=>H,S,(a,E)=>{var u=Z(),j=i(u,!0);r(u);var N={};O(()=>{T(j,e(E)),N!==(N=e(E))&&(u.value=(u.__value=e(E))??"")}),P(a,u)}),r(b),r(w);var D=s(w,2),G=s(i(D),2);A(G),r(D);var k=s(D,2),M=i(k,!0);r(k),r(g),r(v),O(()=>{x.disabled=e(o),_.disabled=e(o),b.disabled=e(o),G.disabled=e(o),k.disabled=e(o),T(M,e(o)?"Guardando...":"Guardar Gasto")}),F(x,()=>e(n),a=>t(n,a)),F(_,()=>e(d),a=>t(d,a)),R(b,()=>e(l),a=>t(l,a)),F(G,()=>e(c),a=>t(c,a)),K("submit",g,Y(L)),P(m,v),z()}export{ie as default};
