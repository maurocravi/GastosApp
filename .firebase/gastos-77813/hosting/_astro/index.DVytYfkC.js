import{ao as S,aj as z,ap as A,am as h,aq as g,a5 as m,ar as B,g as v,as as E,at as I,au as b,av as $}from"./template.BdtgHAX2.js";const j="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(j);S();function O(s=!1){const n=z,e=n.l.u;if(!e)return;let r=()=>E(n.s);if(s){let u=0,a={};const f=I(()=>{let o=!1;const i=n.s;for(const t in i)i[t]!==a[t]&&(a[t]=i[t],o=!0);return o&&u++,u});r=()=>v(f)}e.b.length&&A(()=>{w(n,r),g(e.b)}),h(()=>{const u=m(()=>e.m.map(B));return()=>{for(const a of u)typeof a=="function"&&a()}}),e.a.length&&h(()=>{w(n,r),g(e.a)})}function w(s,n){if(s.l.s)for(const e of s.l.s)v(e);n()}function q(s,n,e){if(s==null)return n(void 0),e&&e(void 0),b;const r=m(()=>s.subscribe(n,e));return r.unsubscribe?()=>r.unsubscribe():r}const l=[];function C(s,n){return{subscribe:L(s,n).subscribe}}function L(s,n=b){let e=null;const r=new Set;function u(o){if($(s,o)&&(s=o,e)){const i=!l.length;for(const t of r)t[1](),l.push(t,s);if(i){for(let t=0;t<l.length;t+=2)l[t][0](l[t+1]);l.length=0}}}function a(o){u(o(s))}function f(o,i=b){const t=[o,i];return r.add(t),r.size===1&&(e=n(u,a)||b),o(s),()=>{r.delete(t),r.size===0&&e&&(e(),e=null)}}return{set:u,update:a,subscribe:f}}function P(s,n,e){const r=!Array.isArray(s),u=r?[s]:s;if(!u.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=n.length<2;return C(e,(f,o)=>{let i=!1;const t=[];let d=0,p=b;const y=()=>{if(d)return;p();const c=n(r?t[0]:t,f,o);a?f(c):p=typeof c=="function"?c:b},k=u.map((c,_)=>q(c,x=>{t[_]=x,d&=~(1<<_),i&&y()},()=>{d|=1<<_}));return i=!0,y(),function(){g(k),p(),i=!1}})}function R(s){let n;return q(s,e=>n=e)(),n}export{P as d,R as g,O as i,q as s,L as w};
