import{B as X,C as le,D,w as M,z as ne,y as se,g as G,E as fe,F as ue,H as te,G as K,I as H,x as O,J as ie,K as ve,L as B,M as de,N as x,O as _e,m as oe,P,Q as z,R as J,S as ce,T as Q,U as he,V as me,W as Ee,X as q,Y as Z,Z as be,_ as Se,$ as Te,a0 as Ae,a1 as ye,a2 as Me,v as Ie,a3 as ge,a4 as Ne,a5 as we,a6 as xe,a7 as Ce,a8 as Le,n as ke,a9 as Oe,aa as Re}from"./template.BYwTzaMl.js";import{l as $,a as De}from"./render._rOquw-i.js";function Ke(e,a){return a}function He(e,a,r){for(var n=e.items,l=[],f=a.length,s=0;s<f;s++)Se(a[s].e,l,!0);var _=f>0&&l.length===0&&r!==null;if(_){var m=r.parentNode;Te(m),m.append(r),n.clear(),y(e,a[0].prev,a[f-1].next)}Ae(l,()=>{for(var h=0;h<f;h++){var b=a[h];_||(n.delete(b.k),y(e,b.prev,b.next)),Z(b.e,!_)}})}function Pe(e,a,r,n,l,f=null){var s=e,_={flags:a,items:new Map,first:null};{var m=e;s=M?D(ne(m)):m.appendChild(X())}M&&se();var h=null,b=!1,N=new Map,u=fe(()=>{var v=r();return J(v)?v:v==null?[]:z(v)}),c,t;function i(){qe(t,c,_,N,s,l,a,n,r),f!==null&&(c.length===0?h?Q(h):h=B(()=>f(s)):h!==null&&he(h,()=>{h=null}))}le(()=>{t??=ye,c=G(u);var v=c.length;if(b&&v===0)return;b=v===0;let g=!1;if(M){var T=ue(s)===te;T!==(v===0)&&(s=K(),D(s),H(!1),g=!0)}if(M){for(var d=null,E,o=0;o<v;o++){if(O.nodeType===ie&&O.data===ve){s=O,g=!0,H(!1);break}var I=c[o],A=n(I,o);E=F(O,_,d,null,I,A,o,l,a,r),_.items.set(A,E),d=E}v>0&&D(K())}if(M)v===0&&f&&(h=B(()=>f(s)));else if(de()){var w=new Set,S=x;for(o=0;o<v;o+=1){I=c[o],A=n(I,o);var C=_.items.get(A)??N.get(A);C?p(C,I,o):(E=F(null,_,null,null,I,A,o,l,a,r,!0),N.set(A,E)),w.add(A)}for(const[L,k]of _.items)w.has(L)||S.skipped_effects.add(k.e);S.add_callback(i)}else i();g&&H(!0),G(u)}),M&&(s=O)}function qe(e,a,r,n,l,f,s,_,m){var h=a.length,b=r.items,N=r.first,u=N,c,t=null,i=[],v=[],g,T,d,E;for(E=0;E<h;E+=1){if(g=a[E],T=_(g,E),d=b.get(T),d===void 0){var o=n.get(T);if(o!==void 0){n.delete(T),b.set(T,o);var I=t?t.next:u;y(r,t,o),y(r,o,I),V(o,I,l),t=o}else{var A=u?u.e.nodes_start:l;t=F(A,r,t,t===null?r.first:t.next,g,T,E,f,s,m)}b.set(T,t),i=[],v=[],u=t.next;continue}if(p(d,g,E),(d.e.f&q)!==0&&Q(d.e),d!==u){if(c!==void 0&&c.has(d)){if(i.length<v.length){var w=v[0],S;t=w.prev;var C=i[0],L=i[i.length-1];for(S=0;S<i.length;S+=1)V(i[S],w,l);for(S=0;S<v.length;S+=1)c.delete(v[S]);y(r,C.prev,L.next),y(r,t,C),y(r,L,w),u=w,t=L,E-=1,i=[],v=[]}else c.delete(d),V(d,u,l),y(r,d.prev,d.next),y(r,d,t===null?r.first:t.next),y(r,t,d),t=d;continue}for(i=[],v=[];u!==null&&u.k!==T;)(u.e.f&q)===0&&(c??=new Set).add(u),v.push(u),u=u.next;if(u===null)continue;d=u}i.push(d),t=d,u=d.next}if(u!==null||c!==void 0){for(var k=c===void 0?[]:z(c);u!==null;)(u.e.f&q)===0&&k.push(u),u=u.next;var ee=k.length;if(ee>0){var ae=h===0?l:null;He(r,k,ae)}}e.first=r.first&&r.first.e,e.last=t&&t.e;for(var re of n.values())Z(re.e);n.clear()}function p(e,a,r,n){_e(e.v,a),e.i=r}function F(e,a,r,n,l,f,s,_,m,h,b){var N=(m&me)!==0,u=(m&Ee)===0,c=N?u?oe(l,!1,!1):P(l):l,t=(m&ce)===0?s:P(s),i={i:t,v:c,k:f,a:null,e:null,prev:r,next:n};try{if(e===null){var v=document.createDocumentFragment();v.append(e=X())}return i.e=B(()=>_(e,c,t,h),M),i.e.prev=r&&r.e,i.e.next=n&&n.e,r===null?b||(a.first=i):(r.next=i,r.e.next=i.e),n!==null&&(n.prev=i,n.e.prev=i.e),i}finally{}}function V(e,a,r){for(var n=e.next?e.next.e.nodes_start:r,l=a?a.e.nodes_start:r,f=e.e.nodes_start;f!==null&&f!==n;){var s=be(f);l.before(f),f=s}}function y(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function j(e,a,r=!1){if(e.multiple){if(a==null)return;if(!J(a))return ge();for(var n of e.options)n.selected=a.includes(R(n));return}for(n of e.options){var l=R(n);if(Ne(l,a)){n.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function Ve(e){var a=new MutationObserver(()=>{j(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ie(()=>{a.disconnect()})}function We(e,a,r=a){var n=!0;$(e,"change",l=>{var f=l?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(f),R);else{var _=e.querySelector(f)??e.querySelector("option:not([disabled])");s=_&&R(_)}r(s)}),Me(()=>{var l=a();if(j(e,l,n),n&&l===void 0){var f=e.querySelector(":checked");f!==null&&(l=R(f),r(l))}e.__value=l,n=!1}),Ve(e)}function R(e){return"__value"in e?e.__value:e.value}const Ue=Symbol("is custom element"),Ye=Symbol("is html");function Xe(e){if(M){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;W(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var l=e.checked;W(e,"checked",null),e.checked=l}}};e.__on_r=r,we(r),De()}}function W(e,a,r,n){var l=Be(e);M&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=r)&&(a==="loading"&&(e[xe]=r),e.removeAttribute(a))}function Be(e){return e.__attributes??={[Ue]:e.nodeName.includes("-"),[Ye]:e.namespaceURI===Ce}}function ze(e,a,r=a){var n=Le(),l=new WeakSet;$(e,"input",f=>{var s=f?e.defaultValue:e.value;if(s=U(e)?Y(s):s,r(s),x!==null&&l.add(x),n&&s!==(s=a())){var _=e.selectionStart,m=e.selectionEnd;e.value=s??"",m!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(m,e.value.length))}}),(M&&e.defaultValue!==e.value||ke(a)==null&&e.value)&&(r(U(e)?Y(e.value):e.value),x!==null&&l.add(x)),Oe(()=>{var f=a();if(e===document.activeElement){var s=Re??x;if(l.has(s))return}U(e)&&f===Y(e.value)||e.type==="date"&&!f&&!e.value||f!==e.value&&(e.value=f??"")})}function U(e){var a=e.type;return a==="number"||a==="range"}function Y(e){return e===""?null:+e}export{We as a,ze as b,Pe as e,Ke as i,Xe as r};
