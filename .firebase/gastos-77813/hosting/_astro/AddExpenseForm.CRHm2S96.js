import{i as W}from"./index.DVytYfkC.js";import{f as B,t as A,g as e,a as x,p as q,d as i,b as z,c as l,r as n,m as f,i as J,s as o,j}from"./template.BdtgHAX2.js";import{e as K,s as Q}from"./render.CEeqJg5k.js";import{i as S,b as C}from"./Notification.OD5x1MGB.js";import{e as U,b as P,a as V,r as T,i as X}from"./input.CmnFHdDa.js";import{T as Y,f as Z,g as $,b as ee,h as ae}from"./expenseStore.M8Kam9Dl.js";function oe(y){return function(...g){var d=g[0];return d.preventDefault(),y?.apply(this,g)}}var te=B("<option> </option>"),re=B('<form class="space-y-4"><div><label class="block text-gray-700 text-sm font-bold mb-2" for="description">Descripción</label> <input type="text" id="description" class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"/></div> <div><label class="block text-gray-700 text-sm font-bold mb-2" for="amount">Monto</label> <input type="number" id="amount" class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"/></div> <div><label class="block text-gray-700 text-sm font-bold mb-2" for="category">Categoría</label> <select id="category" class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"></select></div> <div><label class="block text-gray-700 text-sm font-bold mb-2" for="date">Fecha</label> <input type="date" id="date" class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"/></div> <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-300"><!></button></form>');function ue(y,g){z(g,!1);let d=f(""),c=f(""),u=f(""),p=f("Ocio"),t=f(!1);const H=["Ocio","Comida/Bebida","Hogar","Gastos Personales","Otros"],I=async()=>{if(!e(d)||!e(c)||!e(u)){C("Por favor, completa todos los campos","error");return}o(t,!0);try{const a={descripcion:e(d),cantidad:parseFloat(e(c)),categoria:e(p),fecha:Y.fromDate(new Date(e(u)))},r=await Z($(ee,"gastos"),a);ae.update(s=>{const F={...a,id:r.id};return{...s,data:[F,...s.data].sort((v,R)=>R.fecha.seconds-v.fecha.seconds)}}),C("Gasto agregado correctamente","success"),o(d,""),o(c,""),o(u,""),o(p,"Ocio")}catch(a){console.error("Error adding document: ",a),C("Error al agregar el gasto","error")}finally{o(t,!1)}};W();var b=re(),h=l(b),_=i(l(h),2);T(_),n(h);var w=i(h,2),D=i(l(w),2);T(D),n(w);var k=i(w,2),m=i(l(k),2);A(()=>{e(p),J(()=>{e(t)})}),U(m,5,()=>H,X,(a,r)=>{var s=te(),F=l(s,!0);n(s);var v={};A(()=>{Q(F,e(r)),v!==(v=e(r))&&(s.value=(s.__value=e(r))??"")}),x(a,s)}),n(m),n(k);var E=i(k,2),G=i(l(E),2);T(G),n(E);var O=i(E,2),L=l(O);{var M=a=>{var r=j("Agregando...");x(a,r)},N=a=>{var r=j("Guardar Gasto");x(a,r)};S(L,a=>{e(t)?a(M):a(N,!1)})}n(O),n(b),A(()=>{_.disabled=e(t),D.disabled=e(t),m.disabled=e(t),G.disabled=e(t),O.disabled=e(t)}),P(_,()=>e(d),a=>o(d,a)),P(D,()=>e(c),a=>o(c,a)),V(m,()=>e(p),a=>o(p,a)),P(G,()=>e(u),a=>o(u,a)),K("submit",b,oe(I)),x(y,b),q()}export{ue as default};
