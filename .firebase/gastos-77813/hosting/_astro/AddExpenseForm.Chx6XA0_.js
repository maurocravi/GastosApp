import{i as z}from"./index.xVMkLsqj.js";import{f as P,t as E,g as e,a as m,p as I,s as r,b as J,c as n,r as s,m as f,i as K,d as o,e as C}from"./template.DDEeykWN.js";import{e as Q,s as R}from"./render.B6CLu_wd.js";import{i as S,s as G}from"./Notification.CAJLCjiD.js";import{e as U,b as O,a as V,r as F,i as W,p as X}from"./event-modifiers.BW9v4m8z.js";import{T as Y,a as Z,c as $,d as ee}from"./firebase.DqkX-9P5.js";var ae=P("<option> </option>"),oe=P('<form class="space-y-4"><div><label class="block text-gray-700 text-sm font-bold mb-2" for="description">Descripción</label> <input type="text" id="description" class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"/></div> <div><label class="block text-gray-700 text-sm font-bold mb-2" for="amount">Monto</label> <input type="number" id="amount" class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"/></div> <div><label class="block text-gray-700 text-sm font-bold mb-2" for="category">Categoría</label> <select id="category" class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"></select></div> <div><label class="block text-gray-700 text-sm font-bold mb-2" for="date">Fecha</label> <input type="date" id="date" class="shadow-sm appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"/></div> <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-300"><!></button></form>');function le(T,B){J(B,!1);let d=f(""),l=f(""),c=f(""),u=f("Ocio"),t=f(!1);const H=["Ocio","Comida/Bebida","Hogar","Gastos Personales","Otros"],L=async()=>{if(!e(d)||!e(l)||!e(c)){G("Por favor, completa todos los campos","error");return}o(t,!0);try{const a={descripcion:e(d),cantidad:parseFloat(e(l)),categoria:e(u),fecha:Y.fromDate(new Date(e(c)))};await Z($(ee,"gastos"),a),G("Gasto agregado correctamente","success"),o(d,""),o(l,""),o(c,""),o(u,"Ocio")}catch(a){console.error("Error adding document: ",a),G("Error al agregar el gasto","error")}finally{o(t,!1)}};z();var g=oe(),v=n(g),x=r(n(v),2);F(x),s(v);var y=r(v,2),_=r(n(y),2);F(_),s(y);var h=r(y,2),b=r(n(h),2);E(()=>{e(u),K(()=>{e(t)})}),U(b,5,()=>H,W,(a,i)=>{var p=ae(),q=n(p,!0);s(p);var A={};E(()=>{R(q,e(i)),A!==(A=e(i))&&(p.value=(p.__value=e(i))??"")}),m(a,p)}),s(b),s(h);var w=r(h,2),k=r(n(w),2);F(k),s(w);var D=r(w,2),M=n(D);{var N=a=>{var i=C("Agregando...");m(a,i)},j=a=>{var i=C("Guardar Gasto");m(a,i)};S(M,a=>{e(t)?a(N):a(j,!1)})}s(D),s(g),E(()=>{x.disabled=e(t),_.disabled=e(t),b.disabled=e(t),k.disabled=e(t),D.disabled=e(t)}),O(x,()=>e(d),a=>o(d,a)),O(_,()=>e(l),a=>o(l,a)),V(b,()=>e(u),a=>o(u,a)),O(k,()=>e(c),a=>o(c,a)),Q("submit",g,X(L)),m(T,g),I()}export{le as default};
