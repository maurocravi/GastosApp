import{j as s,l as i,k as g,u as b,n as l}from"./template.BYwTzaMl.js";import{w as C}from"./index.CAEKJqJT.js";import{q as _,o as y,e as F,f as h,a as x}from"./firebase.DbQp2EyT.js";function D(e){s===null&&i(),g&&s.l!==null?B(s).m.push(e):b(()=>{const o=l(e);if(typeof o=="function")return o})}function w(e){s===null&&i(),D(()=>()=>l(e))}function B(e){var o=e.l;return o.u??={a:[],b:[],m:[]}}const c={Ocio:"#FF6384","Comida/Bebida":"#36A2EB",Hogar:"#FFCE56","Gastos Personales":"#4BC0C0",Otros:"#9966FF",Default:"#C9CBCF"},T=()=>{const{subscribe:e,set:o}=C({loading:!0,data:[],error:null}),u=_(F(x,"gastos"),y("fecha","desc")),f=h(u,t=>{const d=t.docs.map(n=>{const a=n.data(),r=a.fecha.toDate(),m=r.getTimezoneOffset()*6e4,p=new Date(r.getTime()+m);return{id:n.id,...a,fecha:p,color:c[a.categoria]||c.Default}});o({loading:!1,data:d,error:null})},t=>{console.error("Error fetching expenses: ",t),o({loading:!1,data:[],error:"No se pudieron cargar los gastos."})});return{subscribe:e,unsubscribe:f}},j=T();export{D as a,c,j as e,w as o};
