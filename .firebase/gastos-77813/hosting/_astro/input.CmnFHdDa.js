import{x as X,y as le,z as q,o as M,v as ne,u as se,g as G,A as ue,B as fe,H as te,C as K,D,q as O,E as ie,F as ve,G as B,I as de,J as x,K as _e,m as oe,L as P,M as z,N as J,O as ce,P as Q,Q as he,R as me,S as Ee,T as H,U as Z,V as be,W as Ae,X as Se,Y as Te,Z as ye,_ as Me,n as Ie,$ as ge,a0 as Ne,a1 as we,a2 as xe,a3 as Ce,a4 as Le,a5 as ke,a6 as Oe,a7 as Re}from"./template.BdtgHAX2.js";import{l as $,a as qe}from"./render.CEeqJg5k.js";function Ke(e,a){return a}function De(e,a,r){for(var n=e.items,l=[],u=a.length,s=0;s<u;s++)Ae(a[s].e,l,!0);var _=u>0&&l.length===0&&r!==null;if(_){var m=r.parentNode;Se(m),m.append(r),n.clear(),y(e,a[0].prev,a[u-1].next)}Te(l,()=>{for(var h=0;h<u;h++){var b=a[h];_||(n.delete(b.k),y(e,b.prev,b.next)),Z(b.e,!_)}})}function Pe(e,a,r,n,l,u=null){var s=e,_={flags:a,items:new Map,first:null};{var m=e;s=M?q(ne(m)):m.appendChild(X())}M&&se();var h=null,b=!1,N=new Map,f=ue(()=>{var v=r();return J(v)?v:v==null?[]:z(v)}),c,t;function i(){He(t,c,_,N,s,l,a,n,r),u!==null&&(c.length===0?h?Q(h):h=B(()=>u(s)):h!==null&&he(h,()=>{h=null}))}le(()=>{t??=ye,c=G(f);var v=c.length;if(b&&v===0)return;b=v===0;let g=!1;if(M){var S=fe(s)===te;S!==(v===0)&&(s=K(),q(s),D(!1),g=!0)}if(M){for(var d=null,E,o=0;o<v;o++){if(O.nodeType===ie&&O.data===ve){s=O,g=!0,D(!1);break}var I=c[o],T=n(I,o);E=F(O,_,d,null,I,T,o,l,a,r),_.items.set(T,E),d=E}v>0&&q(K())}if(M)v===0&&u&&(h=B(()=>u(s)));else if(de()){var w=new Set,A=x;for(o=0;o<v;o+=1){I=c[o],T=n(I,o);var C=_.items.get(T)??N.get(T);C?p(C,I,o):(E=F(null,_,null,null,I,T,o,l,a,r,!0),N.set(T,E)),w.add(T)}for(const[L,k]of _.items)w.has(L)||A.skipped_effects.add(k.e);A.add_callback(i)}else i();g&&D(!0),G(f)}),M&&(s=O)}function He(e,a,r,n,l,u,s,_,m){var h=a.length,b=r.items,N=r.first,f=N,c,t=null,i=[],v=[],g,S,d,E;for(E=0;E<h;E+=1){if(g=a[E],S=_(g,E),d=b.get(S),d===void 0){var o=n.get(S);if(o!==void 0){n.delete(S),b.set(S,o);var I=t?t.next:f;y(r,t,o),y(r,o,I),V(o,I,l),t=o}else{var T=f?f.e.nodes_start:l;t=F(T,r,t,t===null?r.first:t.next,g,S,E,u,s,m)}b.set(S,t),i=[],v=[],f=t.next;continue}if(p(d,g,E),(d.e.f&H)!==0&&Q(d.e),d!==f){if(c!==void 0&&c.has(d)){if(i.length<v.length){var w=v[0],A;t=w.prev;var C=i[0],L=i[i.length-1];for(A=0;A<i.length;A+=1)V(i[A],w,l);for(A=0;A<v.length;A+=1)c.delete(v[A]);y(r,C.prev,L.next),y(r,t,C),y(r,L,w),f=w,t=L,E-=1,i=[],v=[]}else c.delete(d),V(d,f,l),y(r,d.prev,d.next),y(r,d,t===null?r.first:t.next),y(r,t,d),t=d;continue}for(i=[],v=[];f!==null&&f.k!==S;)(f.e.f&H)===0&&(c??=new Set).add(f),v.push(f),f=f.next;if(f===null)continue;d=f}i.push(d),t=d,f=d.next}if(f!==null||c!==void 0){for(var k=c===void 0?[]:z(c);f!==null;)(f.e.f&H)===0&&k.push(f),f=f.next;var ee=k.length;if(ee>0){var ae=h===0?l:null;De(r,k,ae)}}e.first=r.first&&r.first.e,e.last=t&&t.e;for(var re of n.values())Z(re.e);n.clear()}function p(e,a,r,n){_e(e.v,a),e.i=r}function F(e,a,r,n,l,u,s,_,m,h,b){var N=(m&me)!==0,f=(m&Ee)===0,c=N?f?oe(l,!1,!1):P(l):l,t=(m&ce)===0?s:P(s),i={i:t,v:c,k:u,a:null,e:null,prev:r,next:n};try{if(e===null){var v=document.createDocumentFragment();v.append(e=X())}return i.e=B(()=>_(e,c,t,h),M),i.e.prev=r&&r.e,i.e.next=n&&n.e,r===null?b||(a.first=i):(r.next=i,r.e.next=i.e),n!==null&&(n.prev=i,n.e.prev=i.e),i}finally{}}function V(e,a,r){for(var n=e.next?e.next.e.nodes_start:r,l=a?a.e.nodes_start:r,u=e.e.nodes_start;u!==null&&u!==n;){var s=be(u);l.before(u),u=s}}function y(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function j(e,a,r=!1){if(e.multiple){if(a==null)return;if(!J(a))return ge();for(var n of e.options)n.selected=a.includes(R(n));return}for(n of e.options){var l=R(n);if(Ne(l,a)){n.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function Ve(e){var a=new MutationObserver(()=>{j(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ie(()=>{a.disconnect()})}function We(e,a,r=a){var n=!0;$(e,"change",l=>{var u=l?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(u),R);else{var _=e.querySelector(u)??e.querySelector("option:not([disabled])");s=_&&R(_)}r(s)}),Me(()=>{var l=a();if(j(e,l,n),n&&l===void 0){var u=e.querySelector(":checked");u!==null&&(l=R(u),r(l))}e.__value=l,n=!1}),Ve(e)}function R(e){return"__value"in e?e.__value:e.value}const Ue=Symbol("is custom element"),Ye=Symbol("is html");function Xe(e){if(M){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;W(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var l=e.checked;W(e,"checked",null),e.checked=l}}};e.__on_r=r,we(r),qe()}}function W(e,a,r,n){var l=Be(e);M&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=r)&&(a==="loading"&&(e[xe]=r),e.removeAttribute(a))}function Be(e){return e.__attributes??={[Ue]:e.nodeName.includes("-"),[Ye]:e.namespaceURI===Ce}}function ze(e,a,r=a){var n=Le(),l=new WeakSet;$(e,"input",u=>{var s=u?e.defaultValue:e.value;if(s=U(e)?Y(s):s,r(s),x!==null&&l.add(x),n&&s!==(s=a())){var _=e.selectionStart,m=e.selectionEnd;e.value=s??"",m!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(m,e.value.length))}}),(M&&e.defaultValue!==e.value||ke(a)==null&&e.value)&&(r(U(e)?Y(e.value):e.value),x!==null&&l.add(x)),Oe(()=>{var u=a();if(e===document.activeElement){var s=Re??x;if(l.has(s))return}U(e)&&u===Y(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function U(e){var a=e.type;return a==="number"||a==="range"}function Y(e){return e===""?null:+e}export{We as a,ze as b,Pe as e,Ke as i,Xe as r};
